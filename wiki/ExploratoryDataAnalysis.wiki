#labels Phase-Design
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0047)http://www.cs.unc.edu/~kum/approxMAP/index.html -->
<HTML><HEAD><TITLE>ApproxMAP : Analyzing Sequence of sets</TITLE>
<META http-equiv=Content-Type content="text/html; charset=ks_c_5601-1987">
<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<CENTER>
<H1>ApproxMAP : Sequence of sets </H1>
<h2> Exploratory Data Analysis of {A,B,D} {B} {B,C} </h2></CENTER>
<HR SIZE=5>
<b>
Does your data look like {A,B,D} {B} {B,C} ?</b> <br>

Would you like to see what your data looks like?<br><br>
<table border=1 width=700>
<tr><th colspan=2 align=center> Some examples</th></tr>
<tr><td>life path analysis</td>
<td> {Graduation, Job1, Marriage} {Job1} {Job1, Birth} </td></tr>
<tr><td>welfare service analysis</td>
<td> {Foster Care, Medicaid, Foodstamp} {Medicaid} {Medicaid, TANF} </td></tr>
<tr><td>market basket analysis

<td> {Bread, Milk, Jam} {Milk} {Milk, Banana} </td></tr>
</table>

<h3><a href="papers/">Papers </a></h3>
<h3><a href="related.html">Related works</a></h3>
<h3><a href="exp1k6.html">Larger Example</a></h3>
<h3>Table 1: Basic Terms - sequence of sets</h3>
<TABLE width=650 border=1>
        <TR>
          <TD vAlign=top width=120>Items I </TD>

          <TD vAlign=top width=140>{A B C D} </TD>
	  <TD width=390> Let items be a set of literals 
	  I={i<sub>1</sub> i<sub>2</sub> i<sub>3</sub> ... i<sub>l</sub>}. 
	  </TD></TR>

        <TR>
          <TD vAlign=top width=>Itemsets s<SUB>13 </SUB></TD>
          <TD vAlign=top width=>{B,C} </TD>
	  <TD>Then an itemset is a set of items (unordered list).</TD></TR>
        <TR>
          <TD vAlign=top >Sequence seq<SUB>1</SUB> </TD>

          <TD vAlign=top width=>{A,B,D} {B} {B,C} </TD>
	  <TD> And a sequence is an ordered list of  itemsets. </TD></TR>
	  </TABLE>
<br>
<P>Sequential pattern mining is an important data mining task with broad applications. We 
propose the theme of approximate sequential pattern mining roughly defined as 
identifying patterns approximately shared by many sequences. We present an 
efficient and effective algorithm, ApproxMAP (APPROXimate Multiple Alignment 
Pattern mining), to find maximal approximate sequential patterns from large 
databases. Our goal is to assist the data analyst in exploratory data analysis 
through organization and data reduction. The method works in three steps. </P>
<OL>
  <LI>First, similar sequences are grouped together using kNN clustering. 
  <LI>Then we organize and compress sequences within each cluster into <I><A 
  href="index.html#wseq">weighted 
  sequences</A></I> using multiple alignment. 
  <LI>In the last step, the longest <I><A 
  href="index.html#cpat">consensus pattern</a></I> best fitting each 
  cluster are generated from the  <I><A 
  href="index.html#wseq">weighted 
  sequences</A></I> . </LI></OL>

<P>Our extensive experimental results on synthetic and real data show that 
ApproxMAP is very robust to noise and does well in mapping the high dimensional 
noisy data into approximate sequential patterns. </P>
<hr>
<b> An example </b>:
Given below are 10 sequences lexically sorted. <br><br>
<ul>
<li> Step 1: ApproxMAP first divides the sequences into 2 clusters - <font color=red>cluster 1</font> and <font color=blue>cluster 2</font> (k was set to 2 for kNN clustering).<br><br>

<table border=1 width=700>
  <td width=63  align=center>ID  </td>
  <td align=center colspan=5>Full Sequence Database lexically sorted
  </td>
  <td width=52 align=center>Cluster  </td>
  <td width=52 align=center>Lseq  </td>
  <td width=52 align=center >Len  </td>
 </tr>

 <tr>
  <td align=center >seq<sub>1</sub>  </td>
  <td width=81 > <font color=red>{A}</td>
  <td width=108 > <font color=red>{B, C, Y}  </td>
  <td width=84 > <font color=red>{D}</td>

  <td width=84 > &nbsp </td>
  <td width=48>  &nbsp </td>
  <td width=52  align=center > <font color=red>1  </td>
  <td width=52 align=center > 3  </td>
  <td width=52 align=center >5  </td>

 </tr>
 <tr >
  <td width=63 align=center >seq<sub>2</sub>  </td>
  <td width=81 > <font color=red>{A}  </td>
  <td width=108> <font color=red>{X}  </td>

  <td width=84 ><font color=red>{B, C}  </td>
  <td width=84> <font color=red>{A, E}</td>
  <td width=48> <font color=red>{Z}</td>
  <td width=52 align=center > <font color=red>1  </td>
  <td width=52 align=center> 5  </td>

  <td width=52 align=center> 7  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>3</sub>  </td>
  <td width=81> <font color=blue>{A, I}</td>

  <td width=108  > <font color=blue>{Z}  </td>
  <td width=84 > <font color=blue>{K}  </td>
  <td width=84 > <font color=blue>{L, M}  </td>
  <td width=48 >  &nbsp </td>
  <td width=52 align=center > <font color=blue>2  </td>

  <td width=52 align=center >4  </td>
  <td width=52 align=center >6  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>4</sub>  </td>
  <td width=81 > <font color=red>{A, L}</td>

  <td width=108 > <font color=red>{D, E}</td>
  <td width=84 >   &nbsp </td>
  <td width=84 >   &nbsp </td>
  <td width=84 >   &nbsp </td>
  <td width=52 align=center > <font color=red>1  </td>

  <td width=52 align=center>2  </td>
  <td width=52 align=center>4  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>5</sub>  </td>
  <td width=81 > <font color=blue>{I, J}  </td>

  <td width=108 > <font color=blue>{B}  </td>
  <td width=84 > <font color=blue>{K}  </td>
  <td width=84 > <font color=blue>{L}  </td>
  <td width=48 > <font color=blue>   &nbsp </td>

  <td width=52 align=center > <font color=blue>2  </td>
  <td width=52 align=center >4  </td>
  <td width=52 align=center >5  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>6</sub>  </td>

  <td width=81 > <font color=blue>{I, J}  </td>
  <td width=108 > <font color=blue>{L, M}  </td>
  <td > <font color=blue>   &nbsp </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
  <td width=52 align=center > <font color=blue>2  </td>
  <td width=52 align=center >2  </td>
  <td width=52 align=center >5  </td>
 </tr>

 <tr>
  <td width=63 align=center >seq<sub>7</sub>  </td>
  <td width=81 > <font color=blue>{I, J}  </td>
  <td width=108 > <font color=blue>{K}  </td>
  <td > <font color=blue> {J, K} </td>

  <td > <font color=blue> {L} </td>
  <td > <font color=blue> {M} </td>
  <td width=52 align=center > <font color=blue>2  </td>
  <td width=52 align=center >5 </td>

  <td width=52 align=center >7  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>8</sub>  </td>
  <td width=81 > <font color=blue>{I, M}  </td>
  <td width=108 > <font color=blue>{K}  </td>

  <td > <font color=blue> {K, M} </td>
  <td > <font color=blue> {L, M} </td>
  <td > <font color=blue>   &nbsp </td>
  <td width=52 align=center > <font color=blue>2  </td>

  <td width=52 align=center >4 </td>
  <td width=52 align=center >7  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>9</sub>  </td>
  <td width=81 > <font color=blue>{J}  </td>

  <td width=108 > <font color=blue>{K}  </td>
  <td > <font color=blue> {L, M} </td>
  <td > <font color=blue>   &nbsp </td>
  <td > <font color=blue>   &nbsp </td>

  <td width=52 align=center > <font color=blue>2  </td>
  <td width=52 align=center >3 </td>
  <td width=52 align=center >4  </td>
 </tr>
 <tr>
  <td width=63 align=center >seq<sub>10</sub>  </td>

  <td width=81 > <font color=blue>{V}  </td>
  <td width=108 > <font color=blue>{K, W}  </td>
  <td > <font color=blue> {Z} </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
  <td width=52 align=center > <font color=blue>2  </td>
  <td width=52 align=center >3 </td>
  <td width=52 align=center >4  </td>
 </tr>

</table>
<Br>
<li> Step 2: Then ApproxMAP aligns the sequences in each cluster and compresses
each cluster into one weighted sequence as given in the following two tables.
<br><br><li> Step 3: Finally, ApproxMAP generates a dominant pattern for each cluster
using the weighted sequence as given in the following two tables. 
Cluster <a href="#sup">strength</a> was set to 40%.  Thus, the dominant
pattern is
generated by selecting all items in the weighted
sequence that have a weight more than 40% of the cluster. <br><br>

<table border=1 width=700>
 <tr>
  <td align=center colspan=7>Cluster 1
  (cluster strength = 40% = 2 sequences, Min_DB_sup = 1 sequence)  </td>

 </tr>
 <tr>
  <td align=center >seq<sub>1</sub>  </td>
  <td width=81 > <font color=red>{A}</td>
  <td > &nbsp </td>

  <td width=108 > <font color=red>{B, C, Y}  </td>
  <td width=84 > <font color=red>{D}</td>
  <td > &nbsp </td>
  <td > &nbsp </td>
 </tr>

 <tr>
  <td align=center >seq<sub>4</sub>  </td>
  <td width=81 > <font color=red>{A, L}</td>
  <td > &nbsp </td>
  <td > &nbsp </td>

  <td width=108 > <font color=red>{D, E}</td>
  <td > &nbsp </td>
  <td > &nbsp </td>
 </tr>
 <tr >
  <td align=center >seq<sub>2</sub>  </td>

  <td width=81 > <font color=red>{A}  </td>
  <td > <font color=red>{X}  </td>
  <td width=84 ><font color=red>{B, C}  </td>
  <td width=84> <font color=red>{A, E}</td>
  <td width=48> <font color=red>{Z}</td>

  <td > &nbsp </td>
 </tr>
 <tr>
  <td width=160 align=center >Weighted sequence  </td>
  <td >{A:3, L:1}:3  </td>
  <td >{X:1}:1  </td>

  <td >{B:2, C:2, Y:1}:2  </td>
  <td >{A:1, D:2, E:2}:3  </td>
  <td >{Z:1}:1  </td>
  <td >3  </td>
 </tr>
 <tr>
  <td align=center> <i><b>Consensus Pattern (w&#8805;2)</b></i>  </td>

  <td> <font size="+2"><b>{A}</b></font></td>
  <td >  </td>
  <td ><font size="+2"><b>{<font color='7f7f7f'>B</font>, 
  <font color='7f7f7f'>C</font>} </b></font> </td>
  <td ><font size="+2"><b>{<font color='7f7f7f'>D</font>, 
  <font color='7f7f7f'>E</font>}</b></font>  </td>

  <td >  </td>
  <td>  </td>
 </tr>
</table>
<br>
<font size="+2"><b>
<font color='000000'> Color scheme <100:</font>
<font color='434343'> 85:</font>

<font color='767676'> 70:</font>
<font color='a9a9a9'> 50:</font>
<font color='c8c8c8'> 35:</font>
<font color='e1e1e1'> 20 </font>
<font color='000000'>   ></font></b></font>
<BR>
<br>

<table border=1 >
 <tr>
  <td colspan=7  align=center>Cluster 2 (cluster strength = 40% = 3
sequences, Min_DB_sup = 1 sequence)</td>
 </tr>
 <tr>
  <td align=center >seq<sub>9</sub>  </td>
  <td width=81 > <font color=blue>{J}  </td>

  <td > <font color=blue>   &nbsp </td>
  <td width=108 > <font color=blue>{K}  </td>
  <td > <font color=blue> {L, M} </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
 </tr>
 <tr>
  <td align=center >seq<sub>5</sub>  </td>
  <td width=81 > <font color=blue>{I, J}  </td>

  <td width=108 > <font color=blue>{B}  </td>
  <td width=84 > <font color=blue>{K}  </td>
  <td width=84 > <font color=blue>{L}  </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
</tr>
 <tr>
  <td align=center >seq<sub>3</sub>  </td>
  <td width=81> <font color=blue>{A, I}</td>

  <td width=108  > <font color=blue>{Z}  </td>
  <td width=84 > <font color=blue>{K}  </td>
  <td width=84 > <font color=blue>{L, M}  </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
 </tr>
 <tr>
  <td align=center >seq<sub>7</sub>  </td>
  <td width=81 > <font color=blue>{I, J}  </td>

  <td width=108 > <font color=blue>{K}  </td>
  <td > <font color=blue> {J, K} </td>
  <td > <font color=blue> {L} </td>
  <td > <font color=blue> {M} </td>

  <td > <font color=blue>   &nbsp </td>
 </tr>
 <tr>
  <td align=center >seq<sub>8</sub>  </td>
  <td width=81 > <font color=blue>{I, M}  </td>

  <td width=108 > <font color=blue>{K}  </td>
  <td > <font color=blue> {K, M} </td>
  <td > <font color=blue> {L, M} </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
 </tr>
 <tr>
  <td align=center >seq<sub>6</sub>  </td>
  <td width=81 > <font color=blue>{I, J}  </td>

  <td > <font color=blue>   &nbsp </td>
  <td > <font color=blue>   &nbsp </td>
  <td> <font color=blue>{L, M}  </td>
  <td > <font color=blue>   &nbsp </td>

  <td > <font color=blue>   &nbsp </td>
 </tr>
 <tr>
  <td align=center >seq<sub>10</sub>  </td>
  <td > <font color=blue>   &nbsp </td>

  <td width=81 > <font color=blue>{V}  </td>
  <td width=108 > <font color=blue>{K, W}  </td>
  <td > <font color=blue>   &nbsp </td>
  <td > <font color=blue> {Z} </td>

  <td > <font color=blue>   &nbsp </td>
 </tr>
 <tr>
  <td align=center >Weighted seq  </td>
  <td >{A:1,I:5,J:4,M:1}:6  </td>
  <td >{B:1,K:2,V:1,Z:1}:5  </td>

  <td >{J:1,K:6,M:1,W:1}:6  </td>
  <td >{L:6,M:4}:6  </td>
  <td >{M:1,Z:1}:2  </td>
  <td> 7  </td>
 </tr>
 <tr>

 <tr>
  <td width=166 align=center> <i><b>Consensus Pat(w&#8805;3)</b></i>  </td>
  <td> <font size="+2"><b>{<font color='717171'>I</font>, 
  <font color='989898'>J</font>}</b></font></td>
  <td >  </td>

  <td> <font size="+2"><b>{<font color='404040'>K</font>} </b></font>  </td>
  <td ><font size="+2"><b>{<font color='404040'>L</font>, 
  <font color='989898'>M</font>}</b></font>  </td>
  <td >  </td>

  <td>  </td>
 </tr>
  <td width=166 align=center> <i><b>Consensus Var(w&#8805;2)</b></i>  </td>
  <td> <font size="+2"><b>{<font color='717171'>I</font>, 
  <font color='989898'>J</font>}</b></font></td>

  <td >  <font size="+2"><b>{<font color='d3d3d3'> K</font>} </b></font>  </td>
  <td> <font size="+2"><b>{<font color='404040'>K</font>} </b></font>  </td>
  <td ><font size="+2"><b>{<font color='404040'>L</font>, 
  <font color='989898'>M</font>}</b></font>  </td>

  <td >  </td>
  <td>  </td>

 </tr>
</table>
<br>
</ul>
<ul>
<li> Which would you prefer to look at, the first table of 10 sequences lexically sorted or the grouped and aligned sequences in the next two tables?
<li> Imagine what would happen in real applications where you have many more sequences (N >> 100).  If you were to glance through the aligned sequences
then studied the dominant patterns generated for each cluster, wouldn't 
you
be able to get a good understanding of what your data looked like?

<li> If you are interested to learn more about ApproxMAP email us at 
kum@cs.unc.edu  This webpage is still under construction.
<li> How can you get software that does ApproxMAP?  We have a not-so user 
friendly software.  We will consider running the analysis for you and
we are open to discussing other possibilities. Email us at
kum@cs.unc.edu
</ul>
<hr>
<B>Glossary</B><BR><BR>
<ul>
<LI><B><A name=wseq>Weighted sequences</b> are an effective 
  method to compress a whole group of aligned sequences into one sequence. </A>
<BR><BR>
      <TABLE border=1 width=600>
        <TBODY>

        <TR>
          <TH vAlign=top colSpan=5><B>An example of weighted sequences</B> </TH></TR>
        <TR>
          <TD vAlign=top align=middle width=200>seq<SUB>1</SUB> </TD>
          <TD vAlign=top width=100>{A} </TD>
          <TD vAlign=top width=100>{B} </TD>

          <TD vAlign=top width=100>{C, D} </TD>
          <TD vAlign=top width=100></TD></TR>
        <TR>
          <TD vAlign=top align=middle>seq<SUB>2 </SUB></TD>
          <TD vAlign=top>{A} </TD>
          <TD vAlign=top> &nbsp </TD>

          <TD vAlign=top>{C} </TD>
          <TD vAlign=top></TD></TR>
        <TR>
          <TD vAlign=top align=middle>Weighted sequence </TD>
          <TD vAlign=top>{A:2}:2 </TD>
          <TD vAlign=top>{B:1}:1 </TD>
          <TD vAlign=top>{C:2, D:1}:2 </TD>

          <TD vAlign=top>2  
</TD></TR></TABLE><BR>

  A weighted itemset is defined as an itemset that has a weight associated with 
  each item in the itemset as well as the itemset itself. It is denoted as ws<sub>j</sub> 
  ={i<sub>1</sub>:w<sub>1</sub>, i<sub>2</sub>:w<sub>2</sub>, ... , i<sub>m</sub>:w<sub>m</sub>}:w<sub>j</sub>. Then a weighted sequence is an ordered list of weighted itemsets paired with a 
  separate weight for the whole sequence. The table above show the 
  aligned sequences and its weighted sequence. The weight associated with the 
  sequence is the total number of sequences, N, in the group. The weight 
  associated with the itemset s<sub>j</sub>, represents how many sequences have a non-empty 
  itemset in position j. And the weight associated with each item i<sub>k</sub> in itemset 
  s<sub>j</sub> represents the total number of the item i<sub>k</sub> present in all itemsets in 
  position j. 

<Br><br>
 <LI><B><A name=cpat>Consensus Patterns</b> : similar to consensus strings 
in computational biology literature, it is the underlying sequential 
pattern in a group of similar sequences.  In social sciences, it is
also
called the ideal sequence, a hypothetical sequence that best captures
the patterns among all the sequences in a cluster.  Unlike optimal
matching ApproxMAP generates the dominant pattern automatically
given a user input - the cluster strength.
<br><br>
 <LI><B><A name=sup>Strength (i, j)</b> : the number of occurances of item i in position j in a group.
Thus, cluster strength means how many times an item i occured in the
cluster at position j. Strength can be specified as a % of the group (e.g. 40% of the
cluster) or as an absolute number (e.g. 10 sequences). 
</ul> <HR SIZE=5> <A
href="http://www.cs.unc.edu/~kum/index.html"><IMG alt=@
src="../image/bak_ball.gif"> Return to my
homepage<BR></A></LI></BODY></HTML>

